<section>
  <lib-section-header header="Мои заявки"></lib-section-header>
  <lib-loading
    *ngIf="initLoading$ | async as initLoading; else initComplete"
    [loading]="initLoading"
    size="48px"
  ></lib-loading>
</section>

<ng-template #initComplete>
  <ng-container *ngIf="isAnyKase$ | async; else noKases">
    <a [routerLink]="['/claims', 'new']" class="btn btn-primary mb-3">Создать заявку в свободной форме</a>
    <lib-filter-template
      [filters]="statuses$ | async"
      [selectedId]="selectedStatusId$ | async"
      (selectFilter)="selectFilter($event)"
    ></lib-filter-template>
    <div class="tab-content">
      <lib-loading [loading]="loading$ | async" size="48px"></lib-loading>
      <ng-container *ngIf="loaded$ | async">
        <lib-kase-list [kases]="all$ | async" (revoke)="revoke($event)" (vote)="vote($event)"></lib-kase-list>
      </ng-container>
    </div>
  </ng-container>
</ng-template>

<ng-template #noKases>
  <div @contentBlockAnimation class="d-flex justify-content-start align-items-center">
    <span>Заявки отсутствуют</span>
    <a [routerLink]="['/claims', 'new']" class="btn btn-primary ml-4">Создать заявку в свободной форме</a>
  </div>
</ng-template>
