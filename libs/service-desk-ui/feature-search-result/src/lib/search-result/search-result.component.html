<section class="sd-pb-6">
  <div class="container">
    <service-desk-ui-search-search></service-desk-ui-search-search>
    <lib-loading [loading]="loading$ | async" size="48px"></lib-loading>
    <section *ngIf="loaded$ | async">
      <div *ngIf="isAnyResult$ | async; else noResult" @contentBlockAnimation>
        <lib-section-header header="Результаты поиска"></lib-section-header>
        <lib-filter-template
          [filters]="resultTypes$ | async"
          [selectedId]="selectedResultTypeId$ | async"
          (selectFilter)="selectFilter($event)"
        ></lib-filter-template>
        <div class="tab-content">
          <div class="sd-dlist-divider-b">
            <lib-search-result-template
              *ngFor="let resultItem of result$ | async; let first = first"
              [searchResult]="resultItem"
              [employeeLoaded]="employeeLoaded$ | async"
              [attachmentLoadingIds]="attachmentLoadingIds$ | async"
              [ngClass]="{ 'first-dynamic-item': first }"
              (upRating)="upRating(resultItem)"
              (downloadAttachment)="downloadAttachment($event)"
            ></lib-search-result-template>
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<ng-template #noResult>
  <div @contentBlockAnimation>
    <p class="search-title">
      Ничего не найдено.<br />Попробуйте исправить поисковый запрос или найдите услугу в каталоге. Вы также можете
      задать вопрос, оставив заявку или позвонив по телефону 06.
    </p>
    <a routerLink="/categories" class="btn btn-primary">Каталог услуг</a>
    <a routerLink="/claims/new" class="btn btn-primary ml-2">Оставить заявку</a>
  </div>
</ng-template>
