<lib-section-header header="Раздел &#34;Рекомендуем для пользователя&#34;"></lib-section-header>

<ng-container *ngIf="loading$ | async as loading; else loaded">
  <lib-loading [loading]="loading" size="48px"></lib-loading>
</ng-container>

<ng-template #loaded>
  <ng-container *ngIf="loaded$ | async; else error">
    <p-table [value]="userRecommendations$ | async" styleClass="p-datatable-sm" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>#</th>
          <th>Порядок</th>
          <th>Наименование</th>
          <th>Внешняя</th>
          <th>Ссылка</th>
          <th>Параметры</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rec>
        <tr>
          <td>{{ rec.id }}</td>
          <td>{{ rec.order }}</td>
          <td>{{ rec.title }}</td>
          <td>{{ rec.external }}</td>
          <td>{{ rec.link }}</td>
          <td>{{ rec.params }}</td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>
</ng-template>

<ng-template #error>
  <p class="text-danger">Не удалось загрузить список рекомендаций для пользователя</p>
</ng-template>
