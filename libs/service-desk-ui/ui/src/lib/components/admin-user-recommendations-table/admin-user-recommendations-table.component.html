<p-table
  [value]="userRecommendations"
  [loading]="loading"
  styleClass="p-datatable-sm"
  responsiveLayout="scroll"
  dataKey="id"
  (onRowReorder)="reorderRow.emit($event)"
>
  <ng-template pTemplate="header">
    <tr>
      <th></th>
      <th>#</th>
      <th>Наименование</th>
      <th>Тип</th>
      <th>Ссылка</th>
      <th>Параметры</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rec let-index="rowIndex">
    <tr [pReorderableRow]="index">
      <td>
        <i class="mdi mdi-format-line-spacing mdi-18px" [pReorderableRowHandle]="index"></i>
      </td>
      <td>{{ rec.id }}</td>
      <td>{{ rec.title }}</td>
      <td>
        <span [class]="'sd-badge link-' + linkType(rec.external).badge">{{ linkType(rec.external).title }}</span>
      </td>
      <td>{{ rec.link }}</td>
      <td [innerHTML]="rec.query_params | queryParams"></td>
      <td class="text-center">
        <button
          pButton
          type="button"
          class="p-button-rounded p-button-text p-button-icon-only p-button-plain"
          [libDisableOnLoading]="rec.id"
          [libDisableOnLoadingIds]="loadingIds"
          (click)="editForm.emit(rec)"
        >
          <i class="mdi mdi-pencil mdi-18px" *libLoadingIndicator="rec.id; loadingIds: loadingIds"></i>
        </button>
        <button
          pButton
          type="button"
          class="p-button-rounded p-button-text p-button-icon-only p-button-plain"
          [libDisableOnLoading]="rec.id"
          [libDisableOnLoadingIds]="loadingIds"
          (click)="remove.emit(rec)"
        >
          <i class="mdi mdi-trash-can-outline mdi-18px" *libLoadingIndicator="rec.id; loadingIds: loadingIds"></i>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
