<div class="sd-search-index-form">
  <div class="input-group border border-color-gray-base">
    <input
      id="typeahead-basic"
      type="text"
      class="form-control border-0"
      [formControl]="searchCtrl"
      [ngbTypeahead]="search"
      [resultTemplate]="rt"
      [inputFormatter]="formatter"
      autocomplete="off"
      (keyup.enter)="onSearch()"
      [focusFirst]="false"
      placeholder="Введите название услуги или интересующий вопрос"
      appAutoFocus
    />
    <div class="input-group-append">
      <button type="button" (click)="onSearch()" class="btn btn-gray-white sd-btn-icon-24 border border-white">
        <lib-loading *ngIf="loading$ | async as loading; else searchIcon" [loading]="loading" size="24px"></lib-loading>
      </button>
    </div>
  </div>
</div>

<ng-template #rt let-r="result">
  <lib-search-result-template
    class="search-result"
    [searchResult]="r"
    [standaloneLink]="true"
  ></lib-search-result-template>
</ng-template>

<ng-template #searchIcon>
  <i class="mdi mdi-magnify mdi-24px"></i>
</ng-template>
